@using ShopQuanAo.Areas.Admin.Models;
@{
    var user = Session["user"] as user;
    var permissions = (List<string>)ViewBag.permission;
}

<!-- Left side column. contains the logo and sidebar -->
<aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
        <!-- Sidebar user panel -->
        <div class="user-panel">
            <div class="pull-left image">
                <img src="~/Areas/Admin/images/1.jpg" class="img-circle" alt="User Image" />
            </div>
            <div class="pull-left info">
                <p>@user.name</p>
                <a href="#"><i class="fa fa-circle text-success"></i> Trực tuyến</a>
            </div>
        </div>
        <!-- search form -->
        <form action="#" method="get" class="sidebar-form">
            <div class="input-group">
                <input type="text" name="q" class="form-control" placeholder="Từ khoá...">
                <span class="input-group-btn">
                    <button type="submit" name="search" id="search-btn" class="btn btn-flat">
                        <i class="fa fa-search"></i>
                    </button>
                </span>
            </div>
        </form>
        <!-- /.search form -->
        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu">
            <li class="treeview">
                <a href="~/admin">
                    <i class="fa fa-dashboard"></i> <span>Trang chủ</span>
                </a>
            </li>

            @if (permissions.BinarySearch("CREATE_USER") >= 0 || permissions.BinarySearch("DEL_USER") >= 0
                    || permissions.BinarySearch("EDIT_USER") >= 0 || permissions.BinarySearch("INDEX_USER") >= 0)
            {
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-user"></i>
                        <span>Tài khoản</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                        @if (permissions.BinarySearch("INDEX_USER") >= 0)
                        {
                            <li><a href="pages/charts/chartjs.html"><i class="fa fa-users"></i> Danh sách tài khoản</a></li>
                        }
                        @if (permissions.BinarySearch("EDIT_USER") >= 0)
                        {
                            <li><a href="pages/charts/morris.html"><i class="fa fa-user-secret"></i> Phân quyền tài khoản</a></li>
                        }
                    </ul>
                </li>
            }
            @if (permissions.BinarySearch("CREATE_CUSTOMER") >= 0 || permissions.BinarySearch("DEL_CUSTOMER") >= 0
                    || permissions.BinarySearch("EDIT_CUSTOMER") >= 0 || permissions.BinarySearch("INDEX_CUSTOMER") >= 0)
            {
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-users"></i> <span>Khách hàng</span>
                    </a>
                </li>
            }

            @if (permissions.BinarySearch("CREATE_PRODUCT") >= 0 || permissions.BinarySearch("DEL_PRODUCT") >= 0
                    || permissions.BinarySearch("EDIT_PRODUCT") >= 0 || permissions.BinarySearch("INDEX_PRODUCT") >= 0)
            {
                <li class="treeview">
                    <a href="~/Admin/Product">
                        <i class="fa fa-table"></i> <span>Sản phẩm</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                        @if (permissions.BinarySearch("INDEX_PRODUCT") >= 0)
                        {
                            <li><a href="~/Admin/product"><i class="fa fa-list"></i> Danh sách sản phẩm</a></li>
                        }
                        @if (permissions.BinarySearch("CREATE_PRODUCT") >= 0)
                        {
                            <li><a href="~/Admin/product/create"><i class="fa fa-plus"></i> Thêm sản phẩm</a></li>
                        }
                    </ul>
                </li>
            }

            @if (permissions.BinarySearch("CREATE_ANALYTIC") >= 0 || permissions.BinarySearch("DEL_ANALYTIC") >= 0
                    || permissions.BinarySearch("EDIT_ANALYTIC") >= 0 || permissions.BinarySearch("INDEX_ANALYTIC") >= 0)
            {
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-bar-chart"></i> <span>Thống kê</span>
                    </a>
                </li>
            }

            @if (permissions.BinarySearch("CREATE_TRANSACTION") >= 0 || permissions.BinarySearch("DEL_TRANSACTION") >= 0
                    || permissions.BinarySearch("EDIT_TRANSACTION") >= 0 || permissions.BinarySearch("INDEX_TRANSACTION") >= 0)
            {
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-credit-card"></i> <span>Đơn hàng</span>
                    </a>
                </li>
            }

            @if (permissions.BinarySearch("EDIT_PRODUCT") >= 0)
            {
                <li class="treeview">
                    <a href="#">
                        <i class="fa fa-dollar"></i> <span>Khuyến mãi</span>
                    </a>
                </li>
            }
            <li>
                <a href="pages/calendar.html">
                    <i class="fa fa-calendar"></i> <span>Lịch</span>
                    <span class="pull-right-container">
                        <small class="label pull-right bg-red">3</small>
                        <small class="label pull-right bg-blue">17</small>
                    </span>
                </a>
            </li>
            <li>
                <a href="pages/mailbox/mailbox.html">
                    <i class="fa fa-envelope"></i> <span>Hợp thư</span>
                    <span class="pull-right-container">
                        <small class="label pull-right bg-yellow">12</small>
                        <small class="label pull-right bg-green">16</small>
                        <small class="label pull-right bg-red">5</small>
                    </span>
                </a>
            </li>

            <li class="header">Phụ lục</li>
            <li><a href="#"><i class="fa fa-circle-o text-red"></i> <span>Quan trọng</span></a></li>
            <li><a href="#"><i class="fa fa-circle-o text-yellow"></i> <span>Cảnh báo</span></a></li>
            <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Bình thường</span></a></li>
        </ul>
    </section>
    <!-- /.sidebar -->
</aside>
